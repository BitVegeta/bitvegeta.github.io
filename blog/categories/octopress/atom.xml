<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[分类：“octopress” | 精神和时间的小屋]]></title>
  <link href="http://bitvegeta.github.io/blog/categories/octopress/atom.xml" rel="self"/>
  <link href="http://bitvegeta.github.io/"/>
  <updated>2014-12-08T16:17:46+08:00</updated>
  <id>http://bitvegeta.github.io/</id>
  <author>
    <name><![CDATA[bitvegeta]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Liquid Exception: Undefined Method Sort 错误解决方法]]></title>
    <link href="http://bitvegeta.github.io/blog/liquid-exception-undefined-method-sort/"/>
    <updated>2014-12-04T19:46:27+08:00</updated>
    <id>http://bitvegeta.github.io/blog/liquid-exception-undefined-method-sort</id>
    <content type="html"><![CDATA[<p>折腾了一下午自己的 Octopress 博客配置，但是在提交更新时出现了一些问题，代码如下：</p>

<p><code>
# 输入命令
$ rake gen_deploy
# 显示错误信息
   Liquid Exception: undefined method `sort!' for nil:NilClass in _includes/post/categories.html, included in _layouts/post.html
   jekyll 2.5.2 | Error:  undefined method `sort!' for nil:NilClass
</code>
在万能的 Google 上找到了解决办法，感谢！这位同学的博客<a href="http://blog.gordontillman.info/blog/2014-11-26-liquid-exception:-undefined-method-sort.html">[1]</a>也是 Octopress ，哈哈！:D </p>

<p><strong>解决办法是：</strong></p>

<p>用 Sublime 打开 <code>~/Octopress/plugins/category_generator.rb</code> 文件，找到下面的这段代码：</p>

<p><code>
 def category_links(categories)
      categories = categories.sort!.map { |c| category_link c }
        case categories.length
        when 0
          ""
        when 1
          categories[0].to_s
        else
          "#{categories[0...-1].join(', ')}, #{categories[-1]}"
        end
      end
</code></p>

<p>然后，添加两行代码（<code>添加的代码行，后面都添加了注释</code>）：</p>

<p><code>
 def category_links(categories)
   if categories != nil     # Added this line 添加这一行
      categories = categories.sort!.map { |c| category_link c }
        case categories.length
        when 0
          ""
        when 1
          categories[0].to_s
        else
          "#{categories[0...-1].join(', ')}, #{categories[-1]}"
        end
      end                      # Added this line 添加这一行
   end
</code>
保存后，运行 <code>rake gen_deploy</code>显示成功。</p>

<hr />
<p><strong>参考资料</strong></p>

<p>[1] <a href="http://blog.gordontillman.info/blog/2014-11-26-liquid-exception:-undefined-method-sort.html">Liquid Exception: Undefined Method Sort</a></p>

]]></content>
  </entry>
  
</feed>
